<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUSSISSIMO</title>
    <link rel="icon" href="image/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="media.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1><a href="index">PHLO<br>CALYST</a></h1>
            <p>Gypsy | Ethno | Jazz</p>
        </div>
        <div class="header">
            <h2>LISTEN</h2>
            <p>/ live in der musik-butik</p>
        </div>
    </header>
    <section id="listen" class="section">
        <h1 class="title">LISTEN LISTEN</h1>
        <ul>
            <li id="Bossa9" data-src="https://www.youtube.com/embed/j1U5qDVxmUQ?si=jJ92CoidTYVswr2F">Bossa 9</li>
            <li id="FuerMara" data-src="https://www.youtube.com/embed/0TYQhb9glyc?si=CyWZ51OBhb1JS9tx"><a href="#FürMara">Für Mara</a></li>
            <li id="Aman" data-src="https://www.youtube.com/embed/WkxEwOPyBnw?si=YLUGdXq7obswHsmz">Aman</li>
            <li id="Rehanistan" data-src="https://www.example.com/iframe4">Rehanistan</li>
            <li id="Poinciana" data-src="https://www.example.com/iframe5">Poinciana</li>
            <li id="Fussissimo" data-src="https://www.example.com/iframe6">Fussissimo</li>
            <li id="GreetingsfromMars" data-src="https://www.example.com/iframe6">Greetings from Mars</li>
            <li id="MadeInFrance" data-src="https://www.example.com/iframe6">Made In France</li>
            <li id="AniSuni" data-src="https://www.example.com/iframe6">Ani Suni</li>
            <li id="Situsavais" data-src="https://www.example.com/iframe6">Si tu savais</li>
            <li id="Tweetygoesbad" data-src="https://www.example.com/iframe6">Tweety goes bad</li>
            <li id="PuppetBounce" data-src="https://www.example.com/iframe6">Puppet Bounce</li>
            <li id="Masir" data-src="https://www.example.com/iframe6">Masir</li>
        </ul>
    </section>
    <button id="scrollToTopBtn" onclick="scrollToTop()">Up</button>
    <div id="iframe-container">
        <iframe id="iframe" src=""></iframe>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var hash = window.location.hash.substring(1); // Get the hash value from the URL

            if (hash) {
                // Convert the hash value to match the id of the list item
                var trackId = hash.replace(/\s+/g, '_');
                var trackElement = document.getElementById(trackId); // Find the corresponding list item by ID

                if (trackElement) {
                    // Get the data-src attribute of the corresponding list item
                    var src = trackElement.getAttribute('data-src');

                    if (src) {
                        // Update the source of the iframe with the data-src
                        var iframe = document.getElementById('iframe');
                        iframe.src = src + '&autoplay=1'; // Append autoplay parameter to enable auto-play
                    }
                }
            }
        });

        var listItems = document.querySelectorAll('#listen ul li');
        var iframeContainer = document.getElementById('iframe-container');
        var iframe = document.getElementById('iframe');
        var headerParagraph = document.querySelector('.header p');

        // Default image URL
        var defaultImageUrl = '';

        // Set default image in the iframe
        iframe.src = defaultImageUrl;

        listItems.forEach(function(item) {
            item.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent the default link behavior
                var src = item.getAttribute('data-src');
                var trackName = item.innerText; // Get the text content of the clicked list item

                // Extract the video ID from the data-src attribute
                var videoId = src.split('/').pop().split('?')[0];

                // Construct the YouTube embed URL
                var youtubeEmbedUrl = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1';

                iframe.src = youtubeEmbedUrl;
                headerParagraph.textContent = "/ " + trackName; // Append '/' before the track name
            });
        });

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>
